<!DOCTYPE html>
<html>
	<head>
		<title>AVM collection</title>
		<link rel="stylesheet" href="/style.css">
	</head>

	<body>
		<header>
			<h1 class="title">AVM documentation</h1>

			<ul class="tabs">
				<li class="unselected tab">
					<a class="tab-link" href="/avm"><- Go back</a>
				</li>
			</ul>
		</header>
		<main>
			<h1>Table of contents</h1>
			<ul>
				<li class="content"><a href="#stack">Stack</a></li>
				<li class="content"><a href="#memory">Memory</a></li>
				<li class="content"><a href="#call-stack">Call stack</a></li>
				<li class="content"><a href="#executable-format">Executable format</a></li>
				<li class="content"><a href="#instructions">Instructions</a>
					<ul>
						<li class="content"><a href="#instruction-documentation-format">Instruction documentation format</a></li>

						<li class="content"><a href="#stack-operations">Stack operations</a>
							<ul>
								<li class="content"><a href="#psh">PSH</a></li>
								<li class="content"><a href="#pop">POP</a></li>

								<li class="content"><a href="#dup">DUP</a></li>
								<li class="content"><a href="#swp">SWP</a></li>
								<li class="content"><a href="#emp">EMP</a></li>
							</ul>
						</li>
						<li class="content"><a href="#memory-operations">Memory operations</a>
							<ul>
								<li class="content"><a href="#r08">R08</a></li>
								<li class="content"><a href="#r16">R16</a></li>
								<li class="content"><a href="#r32">R32</a></li>
								<li class="content"><a href="#r64">R64</a></li>

								<li class="content"><a href="#w08">W08</a></li>
								<li class="content"><a href="#w16">W16</a></li>
								<li class="content"><a href="#w32">W32</a></li>
								<li class="content"><a href="#w64">W64</a></li>

								<li class="content"><a href="#set">W64</a></li>
								<li class="content"><a href="#cpy">W64</a></li>
							</ul>
						</li>
						<li class="content"><a href="#file-operations">File operations</a>
							<ul>
								<li class="content"><a href="#ope">OPE</a></li>
								<li class="content"><a href="#clo">CLO</a></li>
								<li class="content"><a href="#wrf">WRF</a></li>
								<li class="content"><a href="#rdf">RDF</a></li>
								<li class="content"><a href="#szf">SZF</a></li>
							</ul>
						</li>
						<li class="content"><a href="#arithmetic">Arithmetic</a>
							<ul>
								<li class="content"><a href="#add">ADD</a></li>
								<li class="content"><a href="#sub">SUB</a></li>
								<li class="content"><a href="#mul">MUL</a></li>
								<li class="content"><a href="#div">DIV</a></li>
								<li class="content"><a href="#mod">MOD</a></li>
								<li class="content"><a href="#inc">INC</a></li>
								<li class="content"><a href="#dec">DEC</a></li>

								<li class="content"><a href="#fad">FAD</a></li>
								<li class="content"><a href="#fsb">FSB</a></li>
								<li class="content"><a href="#fmu">FMU</a></li>
								<li class="content"><a href="#fdi">FDI</a></li>
								<li class="content"><a href="#fin">FIN</a></li>
								<li class="content"><a href="#fde">FDE</a></li>

								<li class="content"><a href="#neg">NEG</a></li>
							</ul>
						</li>
						<li class="content"><a href="#logic">Logic</a>
							<ul>
								<li class="content"><a href="#jmp">JMP</a></li>
								<li class="content"><a href="#jnz">JNZ</a></li>
								<li class="content"><a href="#cal">CAL</a></li>
								<li class="content"><a href="#ret">RET</a></li>

								<li class="content"><a href="#equ">EQU</a></li>
								<li class="content"><a href="#neq">NEQ</a></li>
								<li class="content"><a href="#grt">GRT</a></li>
								<li class="content"><a href="#geq">GEQ</a></li>
								<li class="content"><a href="#les">LES</a></li>
								<li class="content"><a href="#leq">LEQ</a></li>

								<li class="content"><a href="#ueq">UEQ</a></li>
								<li class="content"><a href="#une">UNE</a></li>
								<li class="content"><a href="#ugr">UGR</a></li>
								<li class="content"><a href="#ugq">UGQ</a></li>
								<li class="content"><a href="#ule">ULE</a></li>
								<li class="content"><a href="#ulq">ULQ</a></li>

								<li class="content"><a href="#feq">FEQ</a></li>
								<li class="content"><a href="#fne">FNE</a></li>
								<li class="content"><a href="#fgr">FGR</a></li>
								<li class="content"><a href="#fgq">FGQ</a></li>
								<li class="content"><a href="#fle">FLE</a></li>
								<li class="content"><a href="#flq">FLQ</a></li>

								<li class="content"><a href="#not">NOT</a></li>
							</ul>
						</li>
						<li class="content"><a href="#debug">Debug</a>
							<ul>
								<li class="content"><a href="#dmp">DMP</a></li>
								<li class="content"><a href="#prt">PRT</a></li>
								<li class="content"><a href="#fpr">FPR</a></li>
							</ul>
						</li>
						<li class="content"><a href="#other">Other</a>
							<ul>
								<li class="content"><a href="#hlt">HLT</a></li>
								<li class="content"><a href="#nop">NOP</a></li>
							</ul>
						</li>
					</ul>
				</li>
				<li class="content"><a href="#runtime-errors">Runtime errors</a>
					<ul>
						<li class="content"><a href="#stack-overflow">Stack overflow</a></li>
						<li class="content"><a href="#stack-underflow">Stack underflow</a></li>
						<li class="content"><a href="#call-stack-overflow">Call stack overflow</a></li>
						<li class="content"><a href="#call-stack-underflow">Call stack underflow</a></li>
						<li class="content"><a href="#invalid-instruction">Invalid instruction</a></li>
						<li class="content"><a href="#invalid-instruction-access">Invalid instruction access</a></li>
						<li class="content"><a href="#invalid-memory-access">Invalid memory access</a></li>
						<li class="content"><a href="#division-by-zero">Division by zero</a></li>
						<li class="content"><a href="#reached-max-limit-of-files-open">Reached max limit of files open</a></li>
						<li class="content"><a href="#invalid-file-mode">Invalid file mode</a></li>
						<li class="content"><a href="#invalid-file-descriptor">Invalid file descriptor</a></li>
					</ul>
				</li>
			</ul>

			<h1 id="stack">Stack</h1>
			<p>
				Since AVM is a
				<a href="https://en.wikipedia.org/wiki/Stack-oriented_programming" target="_blank">stack based</a>
				VM, it has a stack which is the main part of the VM.
				All the operations are done on the stack (arithmetic, logic...).
			</p>
			<p>
				The stack holds words, which are 64 bit integers (since AVM is 64 bit), but they
				can also be interpreted as floats when needed.
			</p>
			<p>
				Its 65536 bytes in size (thats 8192 words, which should be enough for everyone).
				The stack is indexed by the stack pointer register, which points to the top element
				of the stack. This register (as all the other registers) cannot be directly
				modified, but there are instructions that modify it internally.
			</p>

			<h1 id="memory">Memory</h1>
			<p>
				The stack is used for operations and temporary data, but we also need to store data
				for a longer time somewhere. Thats what the memory is for.
			</p>
			<p>
				It holds bytes (8 bit integers) and is 1048576 bytes in size. Even tho it
				holds only 8 bit integers, we can store 16, 32 and 64 bit integers in it too using
				the appropriate instructions.
			</p>
			<p>
				The first byte of the memory is ignored, because its address is 0, which is used
				for null pointers.
			</p>

			<h1 id="call-stack">Call stack</h1>
			<p>
				The call stack is similar to the normal stack, but its only for pushing instruction
				addresses. Specifically, the
				<a href="#cal">CAL</a>
				and
				<a href="#ret">RET</a>
				instructions use the call stack.
			</p>

			<h1 id="executable-format">Executable format</h1>
			<p>
				AVM can, of course, read programs from a file. These files have a special structure.
			</p>
			<p>
				The top of the file on unix can contain a
				<a href="https://en.wikipedia.org/wiki/Shebang_(Unix)" target="_blank">shebang</a>
				so we can simply just execute this file as a normal program.
			</p>

			<p>
				The first part of the actual structure is the header. It begins with a "magic"
				sequence of 3 bytes that form the string
				<span class="inline-code">AVM</span>,
				which basically says that this is an AVM executable file.
			</p>
			<p>
				The next 3 bytes are the major, minor and patch version, in order. These specify for
				which AVM version this executable is. AVM will usually warn if the major version is
				different, or if the minor version of the executable is greater than the minor
				version of AVM. Patch is usually ignored.
			</p>
			<p>
				After this follow 3 words (64 bit integers) stored in the little-endian format.
				First one is the size of the program (the count of the instructions), second one is
				the size of the initial memory segment (in bytes) and the third one is the entry
				point of the program - the instruction at which the program starts.
			</p>
			<p>
				The header ends here, and the memory segment begins. The size of the memory segment
				was specified in the header. This segment is for initializing the memory with some
				default values, for example strings.
			</p>
			<p>
				After the memory segment comes the program itself - the list of the instructions.
				The instruction format is later described
				<a href="#instructions">here</a>
			</p>
			<p>
				All data after the end of the instruction list is ignored.
			</p>

			<h1 id="instructions">Instructions</h1>
			<p>
				Instructions are 9 bytes in size. The first byte is the opcode of the instruction, and
				the following 8 bytes is a parameter - some data again stored in the little-endian
				format.
			</p>
			<p>
				Each instruction also has a name assigned, which has to be 3 characters in
				length. The available instructions are sorted by type and described below.
			</p>

			<h2 id="instruction-documentation-format">Instruction documentation format</h2>
			<p>
				Parameters are the values required on the stack for the instruction to work.
				The right-most parameter is the one at the top of the stack.
			</p>
			<p>
				Return values are the values pushed onto the stack by the instruction.
				The right-most return value is the one that was pushed the last.
			</p>
			<p>
				The parameter and return values are gonna be in a single line under the instruction
				title, parameters being on the left and return values on the right, separated by a
				<span class="inline-code">→</span>.
				Both parameters and return values are gonna have the format
				<span class="inline-code">NAME: TYPE</span>,
				separated from others by a comma.
				See the table of types below
			</p>

			<table>
				<tr>
					<th>Type</th>
					<th>Description</th>
				</tr>
				<tr>
					<td><span class="inline-code">u64</span></td>
					<td>An unsigned 64bit integer</td>
				</tr>
				<tr>
					<td><span class="inline-code">i64</span></td>
					<td>A signed 64bit integer</td>
				</tr>
				<tr>
					<td><span class="inline-code">f64</span></td>
					<td>A 64bit floating point number</td>
				</tr>
				<tr>
					<td><span class="inline-code">bool</span></td>
					<td>A true/false (1/0) value</td>
				</tr>
				<tr>
					<td><span class="inline-code">any</span></td>
					<td>Any 64bit data</td>
				</tr>
			</table>
			<p>
				If a
				<span class="inline-code">bool</span>
				value is anything other than 1 or 0, its interpreted as true.
			</p>

			<p>
				If the instruction takes no parameters or returns nothing,
				<span class="inline-code">-</span>
				is written on the corresponding side.
			</p>

			<h2 id="stack-operations">Stack operations</h2>

			<h3 id="psh">PSH (<span class="inline-code">0x10</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">pushed: any</span></p>

			<p>
				Push some constant data on the stack. The data to push is the
				parameter of the instruction.
			</p>

			<h3 id="psh">POP (<span class="inline-code">0x11</span>)</h3>
			<p><span class="inline-code">data: any</span> → <span class="inline-code">-</span></p>

			<p>
				Pop off <span class="inline-code">data</span>
			</p>

			<h3 id="dup">DUP (<span class="inline-code">0x50</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">duped: any</span></p>

			<p>
				Duplicate an element on the stack. The parameter is an offset from the top of the
				stack. If the offset is 0, this instruction duplicates the top element. If its
				1, it duplicates the element below the top element, and so on.
			</p>

			<h3 id="swp">SWP (<span class="inline-code">0x51</span>)</h3>
			<p><span class="inline-code">top_value: any</span> → <span class="inline-code">swped: any</span></p>

			<p>
				Swap an element with the top of the stack. The parameter is an offset that works
				the same as the
				<a href="#dup">DUP</a>
				instruction offset, except that its shifted by one; offset 0 means that it swaps
				the top element with the element below the top element, and offset 1 means it swaps
				the top element with the element below the element below the top element, and so on.
			</p>

			<h3 id="emp">EMP (<span class="inline-code">0x52</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">empty: bool</span></p>

			<p>
				Checks if the stack is empty. <span class="inline-code">empty</span> is true if
				the stack is empty, otherwise false.
			</p>

			<h2 id="memory-operations">Memory operations</h2>

			<h3 id="r08">R08 (<span class="inline-code">0x60</span>)</h3>
			<p><span class="inline-code">addr: u64</span> → <span class="inline-code">read: any</span></p>

			<p>
				Reads a byte from the memory.
				<span class="inline-code">addr</span> is the address of the byte,
				<span class="inline-code">read</span> is the data read.
			</p>

			<h3 id="r16">R16 (<span class="inline-code">0x61</span>)</h3>
			<p><span class="inline-code">addr: u64</span> → <span class="inline-code">read: any</span></p>\

			<p>
				Similar to the
				<a href="#r08">R08</a>
				instruction, except this reads 2 bytes.
			</p>

			<h3 id="r32">R32 (<span class="inline-code">0x62</span>)</h3>
			<p><span class="inline-code">addr: u64</span> → <span class="inline-code">read: any</span></p>

			<p>
				Similar to the
				<a href="#r08">R08</a>
				instruction, except this reads 4 bytes.
			</p>

			<h3 id="r64">R64 (<span class="inline-code">0x63</span>)</h3>
			<p><span class="inline-code">addr: u64</span> → <span class="inline-code">read: any</span></p>

			<p>
				Similar to the
				<a href="#r08">R08</a>
				instruction, except this reads 8 bytes.
			</p>

			<h3 id="w08">W08 (<span class="inline-code">0x64</span>)</h3>
			<p><span class="inline-code">addr: u64</span>, <span class="inline-code">data: any</span> → <span class="inline-code">-</span></p>

			<p>
				Writes a byte in the memory.
				<span class="inline-code">data</span>
				is the data to write and
				<span class="inline-code">addr</span>
				is the address of it in memory.
			</p>

			<h3 id="w16">W16 (<span class="inline-code">0x65</span>)</h3>
			<p><span class="inline-code">addr: u64</span>, <span class="inline-code">data: any</span> → <span class="inline-code">-</span></p>

			<p>
				Similar to the
				<a href="#w08">W08</a>
				instruction, except this writes 2 bytes.
			</p>

			<h3 id="w32">W32 (<span class="inline-code">0x65</span>)</h3>
			<p><span class="inline-code">addr: u64</span>, <span class="inline-code">data: any</span> → <span class="inline-code">-</span></p>

			<p>
				Similar to the
				<a href="#w08">W08</a>
				instruction, except this writes 4 bytes.
			</p>

			<h3 id="w64">W64 (<span class="inline-code">0x65</span>)</h3>
			<p><span class="inline-code">addr: u64</span>, <span class="inline-code">data: any</span> → <span class="inline-code">-</span></p>

			<p>
				Similar to the
				<a href="#w08">W08</a>
				instruction, except this writes 8 bytes.
			</p>

			<h2 id="file-operations">File operations</h2>
			<p>
				Max 256 files can be opened at once
			</p>

			<h3 id="ope">OPE (<span class="inline-code">0x70</span>)</h3>
			<p><span class="inline-code">name_addr: u64</span>, <span class="inline-code">name_len: u64</span>, <span class="inline-code">mode: any</span> → <span class="inline-code">fd: u64</span></p>

			<p>
				Opens a file.
				<span class="inline-code">mode</span>
				is the mode to open the file in,
				<span class="inline-code">name_len</span>
				is the length of the file name string and
				<span class="inline-code">name_addr</span>
				is the address in memory of the file name string.
				<span class="inline-code">fd</span>
				is
				<span class="inline-code">-1</span>
				if an error occured while opening the file. Otherwise, its the file descriptor.
			</p>
			<p>
				See the table of modes below
			</p>

			<table>
				<tr>
					<th>Mode (in binary)</th>
					<th>Meaning</th>
				</tr>
				<tr>
					<td><span class="inline-code">0b0001</span></td>
					<td>Reading</td>
				</tr>
				<tr>
					<td><span class="inline-code">0b0010</span></td>
					<td>Writing</td>
				</tr>
				<tr>
					<td><span class="inline-code">0b0100</span></td>
					<td>Appending</td>
				</tr>
				<tr>
					<td><span class="inline-code">0b1000</span></td>
					<td>Binary</td>
				</tr>
			</table>
			<p>
				These modes can be combined.
			</p>

			<h3 id="clo">CLO (<span class="inline-code">0x71</span>)</h3>
			<p><span class="inline-code">fd: u64</span> → <span class="inline-code">-</span></p>

			<p>
				Closes a file using the
				<span class="inline-code">fd</span>
				file descriptor.
			</p>

			<h3 id="wrf">WRF (<span class="inline-code">0x72</span>)</h3>
			<p><span class="inline-code">addr: u64</span>, <span class="inline-code">size: u64</span>, <span class="inline-code">fd: u64</span> → <span class="inline-code">ok: bool</span></p>

			<p>
				Writes a buffer to a file.
				<span class="inline-code">fd</span>
				is the file descriptor of the file to write to,
				<span class="inline-code">size</span>
				is the amount of the bytes to write and
				<span class="inline-code">addr</span>
				is the address of the bytes in memory.
				If an error occured,
				<span class="inline-code">ok</span>
				is false, otherwise its true.
			</p>

			<h3 id="rdf">RDF (<span class="inline-code">0x73</span>)</h3>
			<p><span class="inline-code">addr: u64</span>, <span class="inline-code">size: u64</span>, <span class="inline-code">fd: u64</span> → <span class="inline-code">ok: bool</span></p>

			<p>
				Read a byte from a file.
				<span class="inline-code">fd</span>
				is the file descriptor of the file to read from,
				<span class="inline-code">size</span>
				is the amount of the bytes to read and
				<span class="inline-code">addr</span>
				is the address of the byte buffer to read into.
				If an error occured or the EOF was reached,
				<span class="inline-code">ok</span>
				is false, otherwise its true.
			</p>

			<h3 id="szf">SZF (<span class="inline-code">0x74</span>)</h3>
			<p><span class="inline-code">fd: u64</span> → <span class="inline-code">size: u64</span></p>

			<p>
				Get the file size.
				<span class="inline-code">fd</span>
				is the file descriptor of the file,
				<span class="inline-code">size</span>
				is the size of the file.
			</p>

			<h2 id="arithmetic">Arithmetic</h2>

			<h3 id="add">ADD (<span class="inline-code">0x20</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: u64</span></p>

			<p>
				Adds together
				<span class="inline-code">a</span>
				and
				<span class="inline-code">b</span>.
				<span class="inline-code">result</span>
				is the result of this operation.
			</p>

			<h3 id="sub">SUB (<span class="inline-code">0x21</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: u64</span></p>

			<p>
				Similar to the
				<a href="#add">ADD</a>
				instruction, except this subtracts.
			</p>

			<h3 id="mul">MUL (<span class="inline-code">0x22</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: u64</span></p>

			<p>
				Similar to the
				<a href="#add">ADD</a>
				instruction, except this multiplies.
			</p>

			<h3 id="div">DIV (<span class="inline-code">0x23</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: u64</span></p>

			<p>
				Similar to the
				<a href="#add">ADD</a>
				instruction, except this divides.
			</p>

			<h3 id="mod">MOD (<span class="inline-code">0x24</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: u64</span></p>

			<p>
				Similar to the
				<a href="#add">ADD</a>
				instruction, except this is the modulus operation.
			</p>

			<h3 id="inc">INC (<span class="inline-code">0x25</span>)</h3>
			<p><span class="inline-code">num: u64</span> → <span class="inline-code">incremented: u64</span></p>

			<p>
				Increments
				<span class="inline-code">num</span>
				by 1.
				<span class="inline-code">incremented</span>
				is the incremented
				<span class="inline-code">num</span>.
			</p>

			<h3 id="dec">DEC (<span class="inline-code">0x26</span>)</h3>
			<p><span class="inline-code">num: u64</span> → <span class="inline-code">decremented: u64</span></p>

			<p>
				Decrements
				<span class="inline-code">num</span>
				by 1.
				<span class="inline-code">decremented</span>
				is the decremented
				<span class="inline-code">num</span>.
			</p>

			<h3 id="fad">FAD (<span class="inline-code">0x27</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: f64</span></p>

			<p>
				Same as the
				<a href="#add">ADD</a>
				instruction, but for floating point numbers
			</p>

			<h3 id="fsb">FSB (<span class="inline-code">0x28</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: f64</span></p>

			<p>
				Same as the
				<a href="#sub">SUB</a>
				instruction, but for floating point numbers
			</p>

			<h3 id="fmu">FMU (<span class="inline-code">0x29</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: f64</span></p>

			<p>
				Same as the
				<a href="#mul">MUL</a>
				instruction, but for floating point numbers
			</p>

			<h3 id="fdi">FDI (<span class="inline-code">0x2a</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: f64</span></p>

			<p>
				Same as the
				<a href="#div">DIV</a>
				instruction, but for floating point numbers
			</p>

			<h3 id="fin">FIN (<span class="inline-code">0x2b</span>)</h3>
			<p><span class="inline-code">num: f64</span> → <span class="inline-code">incremented: f64</span></p>

			<p>
				Same as the
				<a href="#inc">INC</a>
				instruction, but for floating point numbers
			</p>

			<h3 id="fde">FDE (<span class="inline-code">0x2c</span>)</h3>
			<p><span class="inline-code">num: f64</span> → <span class="inline-code">decremented: f64</span></p>

			<p>
				Same as the
				<a href="#dec">DEC</a>
				instruction, but for floating point numbers
			</p>

			<h3 id="neg">NEG (<span class="inline-code">0x2d</span>)</h3>
			<p><span class="inline-code">num: i64</span> → <span class="inline-code">result: i64</span></p>

			<p>
				<span class="inline-code">num</span>
				is
				<span class="inline-code">result</span>
				negated.
			</p>

			<h2 id="logic">Logic</h2>

			<h3 id="jmp">JMP (<span class="inline-code">0x30</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">-</span></p>

			<p>
				Jumps to an instruction. The address of the instruction to jump to is the parameter
				of the instruction.
			</p>

			<h3 id="jnz">JNZ (<span class="inline-code">0x31</span>)</h3>
			<p><span class="inline-code">condition: bool</span> → <span class="inline-code">-</span></p>

			<p>
				Similar to the
				<a href="#jmp">JMP</a>
				instruction, but jumps only if
				<span class="inline-code">condition</span>
				is not false.
			</p>

			<h3 id="cal">CAL (<span class="inline-code">0x38</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">-</span></p>

			<p>
				Similar to the
				<a href="#jmp">JMP</a>
				instruction, but this also pushes the address of where to return (the next
				instruction) onto the call stack.
			</p>

			<h3 id="ret">RET (<span class="inline-code">0x39</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">-</span></p>

			<p>
				Pops off the top address of the call stack and jumps to it.
			</p>

			<h3 id="equ">EQU (<span class="inline-code">0x32</span>)</h3>
			<p><span class="inline-code">a: i64</span>, <span class="inline-code">b: i64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Checks if
				<span class="inline-code">a</span>
				is equal to
				<span class="inline-code">b</span>.
				If it is,
				<span class="inline-code">result</span>
				is true.
			</p>

			<h3 id="neq">NEQ (<span class="inline-code">0x33</span>)</h3>
			<p><span class="inline-code">a: i64</span>, <span class="inline-code">b: i64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Similar to the
				<a href="#equ">EQU</a>
				instruction, except this checks if the integers are not equal.
			</p>

			<h3 id="grt">GRT (<span class="inline-code">0x34</span>)</h3>
			<p><span class="inline-code">a: i64</span>, <span class="inline-code">b: i64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Similar to the
				<a href="#equ">EQU</a>
				instruction, except this checks if
				<span class="inline-code">a</span>
				is greater than
				<span class="inline-code">b</span>.
			</p>

			<h3 id="geq">GEQ (<span class="inline-code">0x35</span>)</h3>
			<p><span class="inline-code">a: i64</span>, <span class="inline-code">b: i64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Similar to the
				<a href="#equ">EQU</a>
				instruction, except this checks if
				<span class="inline-code">a</span>
				is greater than or equal to
				<span class="inline-code">b</span>.
			</p>

			<h3 id="les">LES (<span class="inline-code">0x36</span>)</h3>
			<p><span class="inline-code">a: i64</span>, <span class="inline-code">b: i64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Similar to the
				<a href="#equ">EQU</a>
				instruction, except this checks if
				<span class="inline-code">a</span>
				is less than
				<span class="inline-code">b</span>.
			</p>

			<h3 id="leq">LEQ (<span class="inline-code">0x37</span>)</h3>
			<p><span class="inline-code">a: i64</span>, <span class="inline-code">b: i64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Similar to the
				<a href="#equ">EQU</a>
				instruction, except this checks if
				<span class="inline-code">a</span>
				is less than or equal to
				<span class="inline-code">b</span>.
			</p>

			<h3 id="ueq">UEQ (<span class="inline-code">0x3a</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#equ">EQU</a>
				instruction, except this compares two unsigned integers.
			</p>

			<h3 id="une">UNE (<span class="inline-code">0x3b</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#neq">NEQ</a>
				instruction, except this compares two unsigned integers.
			</p>

			<h3 id="ugr">UGR (<span class="inline-code">0x3c</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#grt">GRT</a>
				instruction, except this compares two unsigned integers.
			</p>

			<h3 id="ugq">UGQ (<span class="inline-code">0x3d</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#geq">GEQ</a>
				instruction, except this compares two unsigned integers.
			</p>

			<h3 id="ule">ULE (<span class="inline-code">0x3e</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#les">LES</a>
				instruction, except this compares two unsigned integers.
			</p>

			<h3 id="ulq">ULQ (<span class="inline-code">0x3f</span>)</h3>
			<p><span class="inline-code">a: u64</span>, <span class="inline-code">b: u64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#leq">LEQ</a>
				instruction, except this compares two unsigned integers.
			</p>

			<h3 id="feq">FEQ (<span class="inline-code">0x40</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#equ">EQU</a>
				instruction, except this compares two floating point numbers.
			</p>

			<h3 id="fne">FNE (<span class="inline-code">0x41</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#neq">NEQ</a>
				instruction, except this compares two floating point numbers.
			</p>

			<h3 id="fgr">FGR (<span class="inline-code">0x42</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#grt">GRT</a>
				instruction, except this compares two floating point numbers.
			</p>

			<h3 id="fgq">FGQ (<span class="inline-code">0x43</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#geq">GEQ</a>
				instruction, except this compares two floating point numbers.
			</p>

			<h3 id="fle">FLE (<span class="inline-code">0x44</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#les">LES</a>
				instruction, except this compares two floating point numbers.
			</p>

			<h3 id="flq">FLQ (<span class="inline-code">0x45</span>)</h3>
			<p><span class="inline-code">a: f64</span>, <span class="inline-code">b: f64</span> → <span class="inline-code">result: bool</span></p>

			<p>
				Same as the
				<a href="#leq">LEQ</a>
				instruction, except this compares two floating point numbers.
			</p>

			<h3 id="not">NOT (<span class="inline-code">0x2e</span>)</h3>
			<p><span class="inline-code">data: bool</span> → <span class="inline-code">result: bool</span></p>

			<p>
				If
				<span class="inline-code">data</span>
				is
				false,
				<span class="inline-code">result</span>
				is true, otherwise its false.
			</p>

			<h2 id="debug">Debug</h2>
			<p><span class="inline-code">-</span> → <span class="inline-code">-</span></p>

			<p>
				These instructions are unreliable, because they might not exist for long, since
				they are just for debugging.
			</p>

			<h3 id="dmp">DMP (<span class="inline-code">0xF0</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">-</span></p>

			<p>
				Dumps the registers, stack, call stack and the current instruction address
			</p>

			<h3 id="prt">PRT (<span class="inline-code">0xF1</span>)</h3>
			<p><span class="inline-code">data: i64</span> → <span class="inline-code">-</span></p>

			<p>
				Prints out
				<span class="inline-code">data</span>
				into stdout.
			</p>

			<h3 id="fpr">FPR (<span class="inline-code">0xF2</span>)</h3>
			<p><span class="inline-code">data: f64</span> → <span class="inline-code">-</span></p>

			<p>
				Same as the
				<a href="#prt">PRT</a>
				instruction, but for floating point numbers.
			</p>

			<h2 id="other">Other</h2>

			<h3 id="hlt">HLT (<span class="inline-code">0xFF</span>)</h3>
			<p><span class="inline-code">ex: u64</span> → <span class="inline-code">-</span></p>

			<p>
				Halts the virtual machine and returns with exitcode
				<span class="inline-code">ex</span>.
			</p>

			<h3 id="nop">NOP (<span class="inline-code">0x00</span>)</h3>
			<p><span class="inline-code">-</span> → <span class="inline-code">-</span></p>

			<p>
				Does nothing.
			</p>

			<h1 id="instructions">Runtime errors</h1>

			<h2 id="stack-overflow">Stack overflow (<span class="inline-code">0x01</span>)</h2>
			<p>
				This error happens when the stack pointer is greater or equal to the max stack size
			</p>

			<h2 id="stack-underflow">Stack underflow (<span class="inline-code">0x02</span>)</h2>
			<p>
				This error happens when the stack is empty and an instruction attempts to pop off
				the top of the stack
			</p>

			<h2 id="call-stack-overflow">Call stack overflow (<span class="inline-code">0x03</span>)</h2>
			<p>
				This error happens when the call stack pointer is greater or equal to the max call
				stack size
			</p>

			<h2 id="call-stack-underflow">Call stack underflow (<span class="inline-code">0x04</span>)</h2>
			<p>
				This error happens when the call stack is empty and an instruction attempts to pop off
				the top of the call stack
			</p>

			<h2 id="invalid-instruction">Invalid instruction (<span class="inline-code">0x05</span>)</h2>
			<p>
				This error happens when an unknown instruction (undefined opcode) is found
			</p>

			<h2 id="invalid-instruction-access">Invalid instruction access (<span class="inline-code">0x06</span>)</h2>
			<p>
				This error happens when an instruction attempts to jump outside of the program
			</p>

			<h2 id="invalid-memory-access">Invalid memory access (<span class="inline-code">0x07</span>)</h2>
			<p>
				This error happens when an instruction attempts to write/read from memory beyond
				the last byte of the memory
			</p>

			<h2 id="division-by-zero">Division by zero (<span class="inline-code">0x08</span>)</h2>
			<p>
				This error happens when an integer is divided by zero (floating point number
				division by zero wont cause this)
			</p>

			<h2 id="reached-max-limit-of-files-open">Reached max limit of files open (<span class="inline-code">0x09</span>)</h2>
			<p>
				This error happens when there are more files open than is allowed
			</p>

			<h2 id="invalid-file-mode">Invalid file mode (<span class="inline-code">0x0a</span>)</h2>
			<p>
				This error happens when the file mode is not writing, reading nor appending
			</p>

			<h2 id="invalid-file-descriptor">Invalid file descriptor (<span class="inline-code">0x0b</span>)</h2>
			<p>
				This error happens when there is no file open with such file descriptor
			</p>
		</main>
		<footer>
			<img width="60px" src="/res/icon.png" style="float: right"></img>
			<p class="footer-text" style="display: inline">
				All AVM collection projects are licensed under the
				<a href="https://github.com/avm-collection/avm-collection.github.io/blob/main/LICENSE" target="_blank">
					GPL License
				</a>
			</p>

			<p class="footer-text" style="font-size: 15px; margin-top: 5px">
				Made with
				<span style="font-weight: bold; color: #ef3858"><3</span>
			</p>
		</footer>
	</body>
</html>
